<head>
    <link rel="stylesheet" type="text/css" media="screen" th:href="@{/css/cards-design.css}" xmlns:th="http://www.thymeleaf.org">
</head>

<div class="container mt-5" xmlns:th="http://www.thymeleaf.org">
<!--    AUTHORIZATION TO DO-->
    <a href="/posts/add" class="add-item btn btn-dark" >
        Add new post
    </a>
    <div th:each="post: ${posts}" class="row">
        <div class="col-12">
            <article class="blog-card">
                <div class="blog-card__background">
                    <div class="card__background--wrapper">
                        <div class="card__background--main" th:style="'background:url(' + ${post.getBase64Image()} + ');'">
                            <div class="card__background--layer"></div>
                        </div>
                    </div>
                </div>
                <div class="blog-card__head">
          <span class="date__box">
            <span class="date__day" th:text="${post.getMonthOfEvent()}"></span>
            <span class="date__month" th:text="${post.getDayOfEvent()}"></span>
          </span>
                </div>
                <div class="blog-card__info">
                    <h5 th:text="${post.getTitle()}"></h5>
                    <p>
                        <a href="#" class="icon-link mr-3"><i class="fa fa-pencil-square-o"></i> Tony Jahson</a>
                    </p>
                    <p th:text="${post.getDescription()}"></p>
                    <a th:href="@{'/posts/{id}/readMore' (id=${post.getId()})}" class="btn2 btn--with-icon"><i class="btn-icon fa fa-long-arrow-right"></i>READ MORE</a>

                    <form method="POST" th:action="@{'/posts/{id}/review' (id=${post.id})}">

                        <input type='hidden' th:if="${#request.getRemoteUser() != null}"
                               th:value="${#request.getRemoteUser()}" name='email' />

                        <div>
                            <th:block th:if="${#request.getRemoteUser() != null}" >
                                <label>Rate post</label><br/>
<!--                                <select   id="rating" name="rating">-->
<!--                                    <option  th:each="rate:${rating}" th:text="${rate.name}" th:name="${rate.name}" th:value="${rate.name}" >RATE</option>-->
<!--                                </select>-->
                                <div class="rate">
                                    <input type="radio" th:id="'star5' + ${post.getId()}" name="rating" value="MAGNIFICENT" />
                                    <label th:for="'star5' + ${post.getId()}"  title="text">5 stars</label>
                                    <input type="radio" th:id="'star4' + ${post.getId()}"  name="rating" value="EXCELLENT" />
                                    <label th:for="'star4' + ${post.getId()}"  title="text">4 stars</label>
                                    <input type="radio" th:id="'star3' + ${post.getId()}"  name="rating" value="GOOD" />
                                    <label th:for="'star3' + ${post.getId()}"  title="text">3 stars</label>
                                    <input type="radio" th:id="'star2' + ${post.getId()}"  name="rating" value="AVERAGE" />
                                    <label th:for="'star2' + ${post.getId()}"  title="text">2 stars</label>
                                    <input type="radio" th:id="'star1' + ${post.getId()}"  name="rating" value="BAD" />
                                    <label th:for="'star1' + ${post.getId()}"  title="text">1 star</label>
                                </div>
                                <button type="submit" class="btn btn-dark">Review</button>
                            </th:block>
                        </div>
                    </form>

                    <br />
<!--                    Authorization TO DO-->
                    <form method="POST" th:action="@{'/posts/{id}/delete' (id=${post.id})}">
                        <button type="submit" class="btn btn-danger delete-item">Delete</button>
                    </form>
                    <a th:href="@{'/posts/{id}/edit' (id=${post.id})}"class="edit-item btn btn-dark">Edit</a>

                </div>
            </article>
        </div>
    </div>
</div>




